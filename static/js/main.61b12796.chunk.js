(this["webpackJsonptechstack-task"]=this["webpackJsonptechstack-task"]||[]).push([[0],{13:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(19),i=c.n(n),r=(c(13),c(7)),l=c(6),j=c(10),o=c.n(j),d=c(12),b=c.p+"static/media/spinner.19ccd9b2.gif",h=c(0),u=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),j=i[0],u=i[1],m=Object(s.useState)(!1),p=Object(r.a)(m,2),O=p[0],x=p[1],_=Object(s.useState)(!1),f=Object(r.a)(_,2),g=f[0],v=f[1];function w(){return(w=Object(d.a)(o.a.mark((function e(){var t,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.prev=1,e.next=4,fetch("https://content.guardianapis.com/search?q=".concat(c,"&show-tags=all&page-size=5&show-fields=all&order-by=newest&api-key=0cc1c5bc-7fe4-47bc-80cc-f17c13be193c"));case 4:return t=e.sent,e.next=7,t.json();case 7:s=e.sent,a=s.response.results,u(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(!0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"search__preview",children:[Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(!0),function(){w.apply(this,arguments)}(),x(!1)},children:[Object(h.jsx)("input",{type:"text",className:"search__field",placeholder:"Type something to start search",onChange:function(e){a(e.target.value)},value:c}),Object(h.jsx)("input",{className:"search__button",type:"submit",value:""}),Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),a(""),u(""),v(!1)},className:"clear-search__button"})]})}),g&&Object(h.jsx)("div",{className:"preview__news",children:"Sorry, there's an error..."}),O?Object(h.jsx)("div",{className:"loading__screen",children:Object(h.jsxs)("p",{className:"loading-news__text",children:["Loading...",Object(h.jsx)("img",{className:"loading-news__image",width:"50",src:b,alt:"loading"})]})}):Object(h.jsx)(h.Fragment,{children:j&&c.length>0&&Object(h.jsxs)("div",{className:"preview__news",children:[j.map((function(e,t){return Object(h.jsx)("div",{className:"news-item__preview",children:Object(h.jsx)(l.b,{to:"/news/".concat(e.id),onClick:function(){return a(""),u(""),void v(!1)},children:e.fields.headline})},t)})),0===j.length&&Object(h.jsx)("p",{className:"news-item__preview",children:"Sorry, there were no news found"})]})})]})},m=function(){for(var e=["Sport","World","Covid","Business","Politics","Science","Religion","Health"],t=[],c=[],a=Object(s.useState)("false"),n=Object(r.a)(a,2),i=n[0],j=n[1],o=0;o<e.length;o++)(o%2===0?t:c).push(Object(h.jsx)("li",{className:"submenu__item",children:Object(h.jsx)(l.b,{to:"/"+e[o].toLowerCase(),children:e[o]})},"headerItem"+o));return Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsxs)("div",{className:"logo__search",children:[Object(h.jsx)("span",{className:"logo",children:Object(h.jsx)(l.b,{to:"/",children:"News App"})}),Object(h.jsx)(u,{})]}),Object(h.jsxs)("nav",{children:[Object(h.jsxs)("div",{className:i?"menu":"menu _active",children:[Object(h.jsxs)("span",{className:"menu__item categories",children:[Object(h.jsx)(l.b,{to:"/",children:"Categories"}),Object(h.jsxs)("div",{className:"submenu",children:[Object(h.jsx)("ul",{className:"column",children:t}),Object(h.jsx)("ul",{className:"column",children:c})]})]}),Object(h.jsx)(l.b,{to:"/trending",className:"menu__item",children:"\u26a1 Trending news"})]}),Object(h.jsx)("div",{onClick:function(){j(!i)},className:i?"menu__icon":"menu__icon _active",children:Object(h.jsx)("span",{})})]})]})})},p=c(15),O=c.n(p),x=c(5);var _=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],n=function(){var e=document.documentElement.scrollTop;e>100?a(!0):e<100&&a(!1)};return Object(s.useEffect)((function(){return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}),[]),Object(h.jsx)("div",{className:"wrapper button__wrapper",children:Object(h.jsx)("button",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},className:c?"scrollToTop scroll__active":"scrollToTop",children:"Scroll up"})})},f=function(e){var t=function(e,t){var c=Object(s.useState)({error:null,isLoaded:!1,items:[]}),a=Object(r.a)(c,2),n=a[0],i=a[1];return Object(s.useEffect)((function(){var c=function(){var c=Object(d.a)(o.a.mark((function c(){var s,a,r;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i(Object(x.a)(Object(x.a)({},n),{},{isLoaded:!0})),c.next=4,fetch("https://content.guardianapis.com/search?q=".concat(t,"&show-tags=all&page-size=").concat(e,"&show-fields=all&order-by=newest&api-key=0cc1c5bc-7fe4-47bc-80cc-f17c13be193c"));case 4:return s=c.sent,c.next=7,s.json();case 7:a=c.sent,r=a.response.results,i(Object(x.a)(Object(x.a)({},n),{},{items:r})),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),i(Object(x.a)(Object(x.a)({},n),{},{error:!0}));case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(){return c.apply(this,arguments)}}();c()}),[t,e]),n}(e.pageSize,e.category);return Object(h.jsxs)("div",{children:[t.error&&Object(h.jsx)("div",{className:"error__screen",children:Object(h.jsx)("p",{className:"error__text",children:"Something went wrong... Error"})}),t.isLoaded?Object(h.jsx)("div",{className:"loading__screen",children:Object(h.jsxs)("p",{className:"loading-news__text",children:["Loading...",Object(h.jsx)("img",{className:"loading-news__image",width:"50",src:b,alt:"loading"})]})}):Object(h.jsxs)("div",{className:"news__block wrapper",children:[t.items.map((function(e,t){return Object(h.jsxs)("div",{className:"news__item",children:[Object(h.jsx)("img",{width:297,className:"news__image",alt:e.fields.headline,src:e.fields.thumbnail}),Object(h.jsxs)("div",{className:"news__info",children:[Object(h.jsx)(l.b,{to:"/news/".concat(e.id),children:Object(h.jsx)("span",{className:"news__title",children:e.fields.headline})}),Object(h.jsx)("p",{className:"news__text",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Tempora, eveniet, vero veniam, ullam fuga quasi quia minima reiciendis at quam tempore qui nobis sit cumque adipisci doloribus quis voluptas corporis sint tenetur!"}),Object(h.jsxs)("div",{className:"news__bottom",children:[Object(h.jsx)("span",{className:"news__date",children:O()(e.fields.firstPublicationDate).format("MMMM Do YYYY")}),Object(h.jsx)(l.b,{to:"/news/".concat(e.id),children:Object(h.jsx)("button",{className:"news__button",children:"Read more"})})]})]})]},"news"+t)})),Object(h.jsx)(_,{})]})]})},g=c(2),v=function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("span",{children:"News App"})," 2021 copyright all rights reserved"]})})};var w=function(){var e=function(e){var t=Object(s.useState)({error:null,isLoaded:!1,item:{}}),c=Object(r.a)(t,2),a=c[0],n=c[1];return Object(s.useEffect)((function(){var t=function(){var t=Object(d.a)(o.a.mark((function t(){var c,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(x.a)(Object(x.a)({},a),{},{isLoaded:!0})),t.next=4,fetch("https://content.guardianapis.com/".concat(e,"?api-key=0cc1c5bc-7fe4-47bc-80cc-f17c13be193c&show-fields=bodyText,headline,byline,thumbnail,firstPublicationDate"));case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,i=s.response.content,n(Object(x.a)(Object(x.a)({},a),{},{item:i})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(Object(x.a)(Object(x.a)({},a),{},{error:!0}));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),a}(Object(g.f)().id);return Object(h.jsxs)("div",{children:[e.error&&Object(h.jsx)("div",{className:"error__screen",children:Object(h.jsx)("p",{className:"error__text",children:"Something went wrong... Error"})}),e.isLoaded?Object(h.jsx)("div",{className:"loading__screen",children:Object(h.jsxs)("p",{className:"loading-news__text",children:["Loading...",Object(h.jsx)("img",{className:"loading-news__image",width:"50",src:b,alt:"loading"})]})}):Object(h.jsx)("div",{children:e.item.fields&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"news-item__image__wrapper wrapper",children:Object(h.jsx)("img",{className:"news-item__image",src:e.item.fields.thumbnail,alt:"news"})}),Object(h.jsxs)("div",{className:"news-item__info__wrapper",children:[Object(h.jsx)("p",{className:"news-item__title",children:e.item.fields.headline}),Object(h.jsx)("span",{className:"news-item__author",children:e.item.fields.byline}),Object(h.jsx)("span",{className:"news-item__date",children:O()(e.item.fields.firstPublicationDate).format("MMMM Do YYYY")}),Object(h.jsx)("div",{className:"news-item__text",children:e.item.fields.bodyText})]})]})})]})},N=function(){return Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{}),Object(h.jsxs)(g.c,{children:[Object(h.jsx)(g.a,{exact:!0,path:"/",children:Object(h.jsx)(f,{pageSize:7,category:"all"})}),Object(h.jsx)(g.a,{exact:!0,path:"/sport",children:Object(h.jsx)(f,{pageSize:10,category:"sport"})}),Object(h.jsx)(g.a,{exact:!0,path:"/world",children:Object(h.jsx)(f,{pageSize:10,category:"world"})}),Object(h.jsx)(g.a,{exact:!0,path:"/covid",children:Object(h.jsx)(f,{pageSize:10,category:"covid"})}),Object(h.jsx)(g.a,{exact:!0,path:"/business",children:Object(h.jsx)(f,{pageSize:10,category:"business"})}),Object(h.jsx)(g.a,{exact:!0,path:"/politics",children:Object(h.jsx)(f,{pageSize:10,category:"politics"})}),Object(h.jsx)(g.a,{exact:!0,path:"/science",children:Object(h.jsx)(f,{pageSize:10,category:"science"})}),Object(h.jsx)(g.a,{exact:!0,path:"/religion",children:Object(h.jsx)(f,{pageSize:10,category:"religion"})}),Object(h.jsx)(g.a,{exact:!0,path:"/health",children:Object(h.jsx)(f,{pageSize:10,category:"health"})}),Object(h.jsx)(g.a,{exact:!0,path:"/trending",children:Object(h.jsx)(f,{pageSize:10,category:"trending"})}),Object(h.jsx)(g.a,{exact:!0,path:"/news/:id+",children:Object(h.jsx)(w,{})})]}),Object(h.jsx)(v,{})]})})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.61b12796.chunk.js.map